@model AeroHolder_new.Models.PaginationModel

@{
    var currentPage = Model?.CurrentPage ?? 1;
    var totalPages = Model?.TotalPages ?? 20;
    var maxVisiblePages = 7;
}

<style>
    .pagination-container {
        display: flex;
        justify-content: center;
        align-items: center;
        gap: 6px;
        margin: 30px 0;
        flex-wrap: wrap;
    }

    .pagination-btn {
        padding: 6px 10px;
        border: 1px solid #d1d5db;
        background: white;
        color: #374151;
        border-radius: 5px;
        font-size: 0.8rem;
        font-weight: 500;
        cursor: pointer;
        transition: all 0.3s ease;
        display: flex;
        align-items: center;
        gap: 4px;
        text-decoration: none;
    }

        .pagination-btn:hover:not(.disabled):not(.active) {
            background: #f9fafb;
            border-color: #9ca3af;
        }

        .pagination-btn.active {
            background: #1e3a8a;
            color: white;
            border-color: #1e3a8a;
        }

        .pagination-btn.disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .pagination-btn svg {
            width: 14px;
            height: 14px;
        }

    .pagination-ellipsis {
        padding: 6px 6px;
        color: #9ca3af;
        font-weight: 500;
        font-size: 0.8rem;
    }

    /* Responsive */
    @@media (max-width: 640px) {
        .pagination-btn {
            padding: 5px 8px;
            font-size: 0.75rem;
        }

            .pagination-btn span {
                display: none;
            }
    }
</style>

<div class="pagination-container">
    <!-- Previous Button -->
    <a href="?page=@(currentPage - 1)"
       class="pagination-btn @(currentPage <= 1 ? "disabled" : "")"
       @(currentPage <= 1 ? "onclick=\"return false;\"" : "")>
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <polyline points="15 18 9 12 15 6"></polyline>
        </svg>
        <span>Prev</span>
    </a>

    @{
        var startPage = Math.Max(1, currentPage - 3);
        var endPage = Math.Min(totalPages, currentPage + 3);

        // Show first page
        if (startPage > 1)
        {
            <a href="?page=1" class="pagination-btn">1</a>
        }

        // Show ellipsis if needed
        if (startPage > 2)
        {
            <span class="pagination-ellipsis">...</span>
        }

        // Show page numbers
        for (int i = startPage; i <= endPage; i++)
        {
            <a href="?page=@i"
               class="pagination-btn @(i == currentPage ? "active" : "")">
                @i
            </a>
        }

        // Show ellipsis if needed
        if (endPage < totalPages - 1)
        {
            <span class="pagination-ellipsis">...</span>
        }

        // Show last page
        if (endPage < totalPages)
        {
            <a href="?page=@totalPages" class="pagination-btn">@totalPages</a>
        }
    }

    <!-- Next Button -->
    <a href="?page=@(currentPage + 1)"
       class="pagination-btn @(currentPage >= totalPages ? "disabled" : "")"
       @(currentPage >= totalPages ? "onclick=\"return false;\"" : "")>
        <span>Next</span>
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <polyline points="9 18 15 12 9 6"></polyline>
        </svg>
    </a>
</div>
