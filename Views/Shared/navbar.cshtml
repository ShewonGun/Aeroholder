@{
    string userName = (ViewBag.UserName as string) ?? "Pramodh Lihinikaduwa";
    var userInitials = string.Join("", userName.Split(' ').Select(n => n[0])).ToUpper();
}

<style>
    .top-navbar {
        background: white;
        border-bottom: 1px solid #e5e7eb;
        padding: 0;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.08);
    }

    .top-navbar-container {
        max-width: 100%;
        margin: 0 auto;
        padding: 10px 40px;
        display: flex;
        justify-content: space-between;
        align-items: center;
    }

    .navbar-logo {
        font-size: 1.5rem;
        font-weight: 700;
        text-decoration: none;
        display: flex;
    }

        .navbar-logo .aero {
            color: #1e3a8a;
        }

        .navbar-logo .holder {
            color: #9ca3af;
        }

    .navbar-user {
        display: flex;
        align-items: center;
        gap: 12px;
    }

    .user-name {
        font-size: 0.9rem;
        font-weight: 500;
        color: #111827;
    }

    .user-avatar {
        width: 38px;
        height: 38px;
        border-radius: 50%;
        background: #e0e7ff;
        color: #1e3a8a;
        display: flex;
        align-items: center;
        justify-content: center;
        font-weight: 600;
        font-size: 0.85rem;
        border: 2px solid #c7d2fe;
    }

        .user-avatar img {
            width: 100%;
            height: 100%;
            border-radius: 50%;
            object-fit: cover;
        }

    .divider {
        width: 1px;
        height: 32px;
        background: #e5e7eb;
    }

    .logout-btn {
        background: none;
        border: none;
        cursor: pointer;
        padding: 6px;
        display: flex;
        align-items: center;
        justify-content: center;
        transition: all 0.3s ease;
        color: #6b7280;
    }

        .logout-btn:hover {
            color: #1e3a8a;
            background: #f3f4f6;
            border-radius: 6px;
        }

        .logout-btn svg {
            width: 20px;
            height: 20px;
        }

    /* Responsive */
    @@media (max-width: 768px) {
        .top-navbar-container {
            padding: 10px 20px;
        }

        .user-name {
            display: none;
        }

        .navbar-logo {
            font-size: 1.3rem;
        }
    }
</style>

<nav class="top-navbar">
    <div class="top-navbar-container">
        <a href="@Url.Action("Index", "Home")" class="navbar-logo">
            <span class="aero">Aero</span><span class="holder">Holder</span>
        </a>

        <div class="navbar-user">
            <span class="user-name">@userName</span>

            <div class="user-avatar">
                @if (ViewBag.UserPhoto != null)
                {
                    <img src="@ViewBag.UserPhoto" alt="@userName" />
                }
                else
                {
                    <span>@userInitials</span>
                }
            </div>

            <div class="divider"></div>

            @using (Html.BeginForm("Logout", "Account", FormMethod.Post, new { style = "margin: 0;" }))
            {
                @Html.AntiForgeryToken()
                <button type="submit" class="logout-btn" title="Logout">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"></path>
                        <polyline points="16 17 21 12 16 7"></polyline>
                        <line x1="21" y1="12" x2="9" y2="12"></line>
                    </svg>
                </button>
            }
        </div>
    </div>
</nav>
